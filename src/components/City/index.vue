<template>
  <div class="city">
    <h3 class="city_title">热门城市</h3>
    <ul class="city_item">
      <li>上海</li>
      <li>北京</li>
      <li>上海</li>
      <li>上海</li>
      <li>北京</li>
      <li>上海</li>
      <li>上海</li>
      <li>北京</li>
      <li>上海</li>
    </ul>
    <div class="city_index" ref="indexContainer">
      <ul class="city_index_item">
        <h3>A</h3>
        <ul>
          <li>阿拉善</li>
          <li>哎呀嘿</li>
          <li>阿拉伯</li>
        </ul>
      </ul>
      <ul class="city_index_item">
        <h3>B</h3>
        <ul>
          <li>宾利</li>
          <li>宝马</li>
          <li>保时捷</li>
        </ul>
      </ul>
      <ul class="city_index_item">
        <h3>C</h3>
        <ul>
          <li>宾利</li>
          <li>宝马</li>
          <li>保时捷</li>
        </ul>
      </ul>
      <ul class="city_index_item">
        <h3>D</h3>
        <ul>
          <li>宾利</li>
          <li>宝马</li>
          <li>保时捷</li>
        </ul>
      </ul>
      <ul class="city_index_item">
        <h3>E</h3>
        <ul>
          <li>宾利</li>
          <li>宝马</li>
          <li>保时捷</li>
        </ul>
      </ul>
      <ul class="city_index_item">
        <h3>F</h3>
        <ul>
          <li>宾利</li>
          <li>宝马</li>
          <li>保时捷</li>
        </ul>
      </ul>
      <ul class="city_index_item">
        <h3>G</h3>
        <ul>
          <li>宾利</li>
          <li>宝马</li>
          <li>保时捷</li>
        </ul>
      </ul>
      <ul class="city_index_item">
        <h3>H</h3>
        <ul>
          <li>宾利</li>
          <li>宝马</li>
          <li>保时捷</li>
        </ul>
      </ul>
      <ul class="city_index_item">
        <h3>I</h3>
        <ul>
          <li>宾利</li>
          <li>宝马</li>
          <li>保时捷</li>
        </ul>
      </ul>
      <ul class="city_index_item">
        <h3>J</h3>
        <ul>
          <li>宾利</li>
          <li>宝马</li>
          <li>保时捷</li>
        </ul>
      </ul>
      <ul class="city_index_item">
        <h3>K</h3>
        <ul>
          <li>宾利</li>
          <li>宝马</li>
          <li>保时捷</li>
        </ul>
      </ul>
      <ul class="city_index_item">
        <h3>L</h3>
        <ul>
          <li>宾利</li>
          <li>宝马</li>
          <li>保时捷</li>
        </ul>
      </ul>
      <ul class="city_index_item">
        <h3>M</h3>
        <ul>
          <li>宾利</li>
          <li>宝马</li>
          <li>保时捷</li>
        </ul>
      </ul>
      <ul class="city_index_item">
        <h3>N</h3>
        <ul>
          <li>宾利</li>
          <li>宝马</li>
          <li>保时捷</li>
        </ul>
      </ul>
      <ul class="city_index_item">
        <h3>O</h3>
        <ul>
          <li>宾利</li>
          <li>宝马</li>
          <li>保时捷</li>
        </ul>
      </ul>
      <ul class="city_index_item">
        <h3>P</h3>
        <ul>
          <li>宾利</li>
          <li>宝马</li>
          <li>保时捷</li>
        </ul>
      </ul>
      <ul class="city_index_item">
        <h3>Q</h3>
        <ul>
          <li>宾利</li>
          <li>宝马</li>
          <li>保时捷</li>
        </ul>
      </ul>
      <ul class="city_index_item">
        <h3>R</h3>
        <ul>
          <li>宾利</li>
          <li>宝马</li>
          <li>保时捷</li>
        </ul>
      </ul>
      <ul class="city_index_item">
        <h3>S</h3>
        <ul>
          <li>宾利</li>
          <li>宝马</li>
          <li>保时捷</li>
        </ul>
      </ul>
      <ul class="city_index_item">
        <h3>T</h3>
        <ul>
          <li>宾利</li>
          <li>宝马</li>
          <li>保时捷</li>
        </ul>
      </ul>
      <ul class="city_index_item">
        <h3>U</h3>
        <ul>
          <li>宾利</li>
          <li>宝马</li>
          <li>保时捷</li>
        </ul>
      </ul>
      <ul class="city_index_item">
        <h3>V</h3>
        <ul>
          <li>宾利</li>
          <li>宝马</li>
          <li>保时捷</li>
        </ul>
      </ul>
      <ul class="city_index_item">
        <h3>W</h3>
        <ul>
          <li>宾利</li>
          <li>宝马</li>
          <li>保时捷</li>
        </ul>
      </ul>
      <ul class="city_index_item">
        <h3>X</h3>
        <ul>
          <li>宾利</li>
          <li>宝马</li>
          <li>保时捷</li>
        </ul>
      </ul>
      <ul class="city_index_item">
        <h3>Y</h3>
        <ul>
          <li>宾利</li>
          <li>宝马</li>
          <li>保时捷</li>
        </ul>
      </ul>
      <ul class="city_index_item">
        <h3>Z</h3>
        <ul>
          <li>宾利</li>
          <li>宝马</li>
          <li>保时捷</li>
        </ul>
      </ul>
    </div>
    <div class="city_index_number" ref="cityIndexNumber">
      <ul class="city_index_number_box">
        <li @touchstart="setScroll" v-for="item in indexNumber" :key="item">{{ item }}</li>  
      </ul>  
    </div> 
  </div>
</template>

<script>
export default {
  name: 'City',
  data: function () {
    return {
      indexNumber: ['A',
'B',
'C',
'D',
'E',
'F',
'G',
'H',
'I',
'J',
'K',
'L',
'M',
'N',
'O',
'P',
'Q',
'R',
'S',
'T',
'U',
'V',
'W',
'X',
'Y',
'Z']
    }
  },
  mounted() {
    this.getindexHeight()
  },
  methods: {
    getindexHeight: function () {
      var elem = this.$refs.cityIndexNumber
      var iH = elem.offsetHeight
      elem.style.marginTop = - iH / 2 + 'px'
      
    },
    setScroll: function (e) {
      var indexH3 = this.$refs.indexContainer.getElementsByTagName('h3')
      for(var i=0; i<indexH3.length;i++) {
        if(indexH3[i].innerHTML === e.target.innerHTML) {
          document.body.scrollTop = indexH3[i].offsetTop
          document.documentElement.scrollTop = indexH3[i].offsetTop
        }
      }
    }
  },
}
</script>

<style>
.city {
  margin-bottom: 50px;
}

.city_title {
  background: #ccc;
}

.city_item {
  display: flex;
  flex-flow: wrap-reverse;
}

.city_item li {
  flex: 3;
  width: 80px;
  height: 35px;
  line-height: 35px;
  border: 1px solid #666;
  text-align: center;
  border-radius: 8px;
  padding: 5px 22px;
  margin: 5px 22px;
}

.city_index_item {
  width: 100%;
  height: 120px;
}

.city_index_item h3 {
  background: #ccc;
}

.city_index_item ul {
  padding: 5px;
  background: plum;
}

.city_index_item ul li {
  padding: 5px 0;
}

.city_index_number {
  position: fixed;
  top: 50%;
  right: 5px;
}

.city_index_number_box li {
  color: #666;
  margin-bottom: 3px;
}
</style>